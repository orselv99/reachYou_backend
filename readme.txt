https://softwareontheroad.com/ideal-nodejs-project-structure/
Bulletproof node.js project architecture ğŸ›¡ï¸

1. The folder structure ğŸ¢
2. 3 Layer architecture ğŸ¥ª
3. Service Layer ğŸ’¼
4. Pub/Sub Layer ï¸ï¸ï¸ï¸ğŸ™ï¸ï¸
5. Dependency Injection ğŸ’‰
6. Unit Testing ğŸ•µğŸ»
7. Cron Jobs and recurring task âš¡
8. Configurations and secrets ğŸ¤«
9. Loaders ğŸ—ï¸

==================================
1. The folder structure ğŸ¢
==================================
src
â”‚   app.js          # App entry point
â””â”€â”€â”€api             # Express route controllers for all the endpoints of the app
â””â”€â”€â”€config          # Environment variables and configuration related stuff
â””â”€â”€â”€jobs            # Jobs definitions for agenda.js
â””â”€â”€â”€loaders         # Split the startup process into modules
â””â”€â”€â”€models          # Database models
â””â”€â”€â”€services        # All the business logic is here
â””â”€â”€â”€subscribers     # Event handlers for async task
â””â”€â”€â”€types           # Type declaration files (d.ts) for Typescript
ìë°”ìŠ¤í¬ë¦½íŠ¸ íŒŒì¼ì„ ê·¸ì € ì •ë ¬í•œê²Œ ì•„ë‹˜

==================================
2. 3 Layer architecture ğŸ¥ª
==================================
API Routes ë¡œë¶€í„° ë¹„ì§€ë‹ˆìŠ¤ ë¡œì§ì„ ë¶„ë¦¬ - ê´€ì‹¬ì‚¬ ë¶„ë¦¬ ì›ì¹™ (Principle of separation of concerns)
ì–´ëŠë‚ , ë°˜ë³µë˜ëŠ” ì‘ì—…ì—ì„œ CLI ë„êµ¬ì—ì„œ ë¹„ì§€ë‹ˆìŠ¤ ë¡œì§ì„ ì‚¬ìš©í•˜ê¸¸ ì›í• ìˆ˜ë„ ìˆìŒ
ê·¸ë¦¬ê³  node.js ì„œë²„ì—ì„œ API í˜¸ì¶œì€ ì¢‹ì€ ìƒê°ì´ ì•„ë‹˜

** note ** ë¹„ì§€ë‹ˆìŠ¤ ë¡œì§ì„ ì»¨íŠ¸ë¡¤ëŸ¬ì— ë„£ì§€ë§ˆ
express.js ì»¨íŠ¸ë¡¤ëŸ¬ì— ë¹„ì§€ë‹ˆìŠ¤ ë¡œì§ì„ ì €ì¥í•  ìˆ˜ë„ ìˆëŠ”ë°, ì´ê±´ ë¹ ë¥´ê²Œ ìŠ¤íŒŒê²Œí‹° ì½”ë“œê°€ ë˜ë²„ë¦°ë‹¤
ìœ ë‹›í…ŒìŠ¤íŠ¸ë¥¼ ì‘ì„±í•˜ë‹¤ ë³´ë©´ express.js ì˜ request/response ë³µì¡í•œ ê°ì²´ë¥¼ ë‹¤ë£¨ê²Œ ëœë‹¤
ì–¸ì œ í´ë¼ì´ì–¸íŠ¸ë¡œ responseë¥¼ ë³´ë‚´ì•¼ í• ì§€, ì–¸ì œ í”„ë¡œì„¸ìŠ¤ë¥¼ ë°±ê·¸ë¼ìš´ë“œì—ì„œ ê³„ì† ì‹¤í–‰í•´ì•¼ í• ì§€
êµ¬ë¶„í•˜ëŠ” ê²ƒì€ ë§¤ìš° ë³µì¡í•˜ë‹¤

==================================
3. Service Layer ğŸ’¼
==================================
** note ** service layer ì— ë¹„ì§€ë‹ˆìŠ¤ ë¡œì§ì„ ì‘ì„±
ë¹„ì§€ë‹ˆìŠ¤ ë¡œì§ì€ ì´ layer ì— ì‘ì„±í•´ì•¼ í•œë‹¤. 
ë¶„ëª…í•œ ëª©ì ë“¤ì„ ì§€ë‹Œ í´ë˜ìŠ¤ì˜ ì§‘í•©ì´ë©°, SOLID ì›ì¹™ì„ node.js ì— ì ìš©í•œ ê²ƒ
ì´ layer ì—ëŠ” SQL ì¿¼ë¦¬ê°€ í¬í•¨ë˜ì„œëŠ” ì•ˆëœë‹¤. ì´ëŠ” data access layer ì— ìˆì–´ì•¼ í•œë‹¤
 - express.js router ë¡œë¶€í„° ë‹¹ì‹ ì˜ ì½”ë“œë¥¼ ë¶„ë¦¬
 - service layer ë¡œ request/response ê°ì²´ë¥¼ ì „ë‹¬í•˜ì§€ë§ê²ƒ
 - service layer ì˜ ìƒíƒœ ì½”ë“œ ë˜ëŠ” í—¤ë”ì™€ ê°™ì€ HTTP transport layer ì™€ ê´€ë ¨ëœ ê²ƒë“¤ì€ return í•˜ì§€ë§ê²ƒ

==================================
4. Pub/Sub Layer ï¸ï¸ï¸ï¸ğŸ™ï¸ï¸
==================================
pub/sub íŒ¨í„´ì„ ì „í˜•ì ì¸ 3 layer êµ¬ì¡° ë²”ìœ„ë¥¼ ë„˜ì–´ì„œì§€ë§Œ ë§¤ìš° ìœ ìš©
ê°„ë‹¨í•œ node.js API end-point ì—ì„œ ì‚¬ìš©ìë¥¼ ìƒì„±í•œ ë’¤,
third-party ì„œë¹„ìŠ¤ë¥¼ í˜¸ì¶œí•˜ê±°ë‚˜, ì„œë¹„ìŠ¤ ë¶„ì„ì„ ì‹œë„í•˜ê±°ë‚˜, ì´ë©”ì¼ ì‘ì—…ì„ í•˜ê³  ì‹¶ì„ ìˆ˜ ìˆë‹¤
ê°„ë‹¨íˆ â€œcreateâ€ ì‘ì—…ì´ ì—¬ëŸ¬ ê°€ì§€ ì¼ì„ í•˜ê¸° ì‹œì‘í•  ê²ƒì´ë©°, í•˜ë‚˜ì˜ í•¨ìˆ˜ ì•ˆì— 1000ì¤„ì´ ë„˜ì–´ê°€ëŠ” ì½”ë“œê°€ ìƒê¸¸ ê²ƒì´ë‹¤
ì´ëŠ” ë‹¨ì¼ ì±…ì„ ì›ì¹™ (principle of single responsibility) ì„ ìœ„ë°°
ì‹œì‘ë¶€í„° ì±…ì„ë“¤ì„ ë¶„ë¦¬í•˜ì—¬ ê°„ê²°í•˜ê²Œ ì½”ë“œë¥¼ ìœ ì§€ ê´€ë¦¬ í•˜ëŠ”ê²ƒì´ ì¢‹ë‹¤

==================================
5. Dependency Injection ğŸ’‰
==================================
ì˜ì¡´ì„± ì£¼ì…(D.I), ë˜ëŠ” ì œì–´ ì—­ì „(IoC) ì€ ì½”ë“œ êµ¬ì¡°í™”ì— ë§ì´ ì‚¬ìš©í•˜ëŠ” íŒ¨í„´ (ìƒì„±ìì— í´ë˜ìŠ¤ì™€ í•¨ìˆ˜ì˜ ì˜ì¡´ì„±ì„ ì „ë‹¬)
ì´ ë°©ë²•ì„ ì‚¬ìš©í•˜ì—¬, í˜¸í™˜ ì˜ì¡´ì„±(compatible dependency) ì„ ì£¼ì…í•´ ìœ ì—°ì„±ì„ ì–»ëŠ”ë‹¤

==================================
6. Unit Testing ğŸ•µğŸ»
==================================
ì˜ì¡´ì„± ì£¼ì…ê³¼ ì´ëŸ° êµ¬ì¡° íŒ¨í„´ë“¤ì„ ì‚¬ìš©í•˜ë©´ ìœ ë‹›í…ŒìŠ¤íŠ¸ëŠ” ì •ë§ ê°„ë‹¨í•´ì§„ë‹¤
request/response ê°ì²´ë“¤ê³¼ require í˜¸ì¶œë“¤ì„ í•  í•„ìš”ê°€ ì—†ìŒ

==================================
7. Cron Jobs and recurring task âš¡
==================================
ë¹„ì§€ë‹ˆìŠ¤ ë¡œì§ì€ service layer ì— ìº¡ìŠí™”ë˜ì—ˆê³ , ì´ê²ƒì€ ìŠ¤ì¼€ì¥´ë§ ì‘ì—…ì„ ë” ì‰½ê²Œ í•´ì¤€ë‹¤
ì½”ë“œì‹¤í–‰ ì§€ì—°ì„ í• ë•Œ node.js ì˜ setTimeout ê³¼ ê°™ì€ ì›ì‹œì ì¸ ë°©ë²•ì„ ì‚¬ìš©í•˜ë©´ ì•ˆë¨
ëŒ€ì‹  dbì—ì„œ ì‘ì—…ì„ ìœ ì§€í•˜ê³  ì‹¤í–‰í•˜ëŠ” í”„ë ˆì„ì›Œí¬ë¥¼ ì‚¬ìš© 
(ì¶”ì²œ : (agenda - node.js taskmanager) https://softwareontheroad.com/nodejs-scalability-issues/)

==================================
8. Configurations and secrets ğŸ¤«
==================================
dotenv ë¥¼ ì´ìš©í•´ API key, db ì—°ê²°ì— í•„ìš”í•œ ì„¤ì •ë“¤ì„ ê´€ë¦¬
 - .env ëŠ” ì»¤ë°‹í•˜ì§€ ë§ê²ƒ
 - ë¡œë“œí•˜ë©´ process.env ì— ì €ì¥ë¨

==================================
9. Loaders ğŸ—ï¸
==================================
ì„œë¹„ìŠ¤ì˜ ì‹œì‘ í”„ë¡œì„¸ìŠ¤ë¥¼ ì‘ì€ ëª¨ë“ˆë¡œ ë‚˜ëˆ„ì–´ ë…ë¦½ì ìœ¼ë¡œ ë¡œë“œí•  ìˆ˜ ìˆê²Œ í•  ê²ƒ